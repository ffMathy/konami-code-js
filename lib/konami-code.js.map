{"version":3,"sources":["webpack:///webpack/bootstrap e66cc03e3920d2a4eeff","webpack:///./src/shared.js","webpack:///./index.js","webpack:///./src/index.js","webpack:///./src/touch.js","webpack:///./src/keyboard.js"],"names":["mirrorObject","o","Object","keys","forEach","key","Gestures","Up","Down","Left","Right","A","B","None","konamiCodeEvent","Event","konamiCode","queue","queueEqualsKonamiCode","result","i","length","addToQueue","gesture","shift","push","gestureEvent","CustomEvent","detail","code","name","document","dispatchEvent","dragging","endX","endY","startX","startY","viewportWidth","Math","max","documentElement","clientWidth","window","innerWidth","onTouchStart","event","touches","clientX","clientY","onTouchMove","onTouchEnd","xDiff","yDiff","isHorizontal","abs","isLeftHalf","addEventListener","keyGestureMap","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","a","b","onKeyUp","Invalid"],"mappings":"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","file":"konami-code.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e66cc03e3920d2a4eeff","const mirrorObject = (o) => Object.keys(o).forEach((key) => o[o[key]] = key);\r\n\r\nconst Gestures = {\r\n    Up: 1,\r\n    Down: 2,\r\n    Left: 3,\r\n    Right: 4,\r\n    A: 5,\r\n    B: 6,\r\n    None: null\r\n};\r\nmirrorObject(Gestures);\r\n\r\nconst konamiCodeEvent = new Event('konamiCode');\r\n\r\nconst konamiCode = [\r\n    Gestures.Up, Gestures.Up, Gestures.Down, Gestures.Down,\r\n    Gestures.Left, Gestures.Right, Gestures.Left, Gestures.Right,\r\n    Gestures.B, Gestures.A\r\n];\r\n\r\nconst queue = [\r\n    Gestures.None, Gestures.None, Gestures.None, Gestures.None,\r\n    Gestures.None, Gestures.None, Gestures.None, Gestures.None,\r\n    Gestures.None, Gestures.None\r\n];\r\n\r\nconst queueEqualsKonamiCode = () => {\r\n    let result = true;\r\n    for (let i = 0; i < konamiCode.length; i++) {\r\n        if (konamiCode[i] !== queue[i]) {\r\n            result = false;\r\n            break;\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nconst addToQueue = (gesture) => {\r\n    queue.shift();\r\n    queue.push(gesture);\r\n\r\n    const gestureEvent = new CustomEvent('konamiCodeGesture', {\r\n        detail: {\r\n            code: gesture,\r\n            name: Gestures[gesture]\r\n        }\r\n    });\r\n    document.dispatchEvent(gestureEvent);\r\n    \r\n    if (queueEqualsKonamiCode()) {\r\n        document.dispatchEvent(konamiCodeEvent);\r\n    }\r\n};\r\n\r\nexport {\r\n    Gestures,\r\n    addToQueue\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/shared.js","import './src';\n\n\n// WEBPACK FOOTER //\n// ./index.js","import './shared';\r\nimport './touch';\r\nimport './keyboard';\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { addToQueue, Gestures } from './shared';\r\n\r\nlet dragging = false;\r\nlet endX = null;\r\nlet endY = null;\r\nlet startX = null;\r\nlet startY = null;\r\nconst viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n\r\nconst onTouchStart = (event) => {\r\n    dragging = false;\r\n    startX = event.touches[0].clientX;\r\n    startY = event.touches[0].clientY;\r\n};\r\n\r\nconst onTouchMove = (event) => {\r\n    if (!startX || !startY) {\r\n        return;\r\n    }\r\n    dragging = true;\r\n    endX = event.touches[0].clientX;\r\n    endY = event.touches[0].clientY;\r\n};\r\n\r\nconst onTouchEnd = (event) => {\r\n    if (dragging) {\r\n        const xDiff = startX - endX ;\r\n        const yDiff = startY - endY;\r\n        const isHorizontal = Math.abs(xDiff) > Math.abs(yDiff);\r\n\r\n        if (isHorizontal) {\r\n            addToQueue(xDiff > 0 ? Gestures.Left : Gestures.Right);\r\n        } else {\r\n            addToQueue(yDiff > 0 ? Gestures.Up : Gestures.Down);\r\n        }\r\n\r\n        dragging = false;\r\n    }\r\n    else {\r\n        const isLeftHalf = startX < (viewportWidth / 2);\r\n        addToQueue(isLeftHalf ? Gestures.A : Gestures.B);\r\n    }\r\n\r\n    startX = null;\r\n    startY = null;\r\n};\r\n\r\ndocument.addEventListener('touchstart', onTouchStart, false);\r\ndocument.addEventListener('touchmove', onTouchMove, false);\r\ndocument.addEventListener('touchend', onTouchEnd, false);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/touch.js","import { addToQueue, Gestures } from './shared';\r\n\r\nconst keyGestureMap = {\r\n    ArrowLeft: Gestures.Left,\r\n    ArrowRight: Gestures.Right,\r\n    ArrowUp: Gestures.Up,\r\n    ArrowDown: Gestures.Down,\r\n    a: Gestures.A,\r\n    b: Gestures.B\r\n};\r\n\r\nconst onKeyUp = (event) => {\r\n    const gesture = keyGestureMap[event.key] || Gestures.Invalid;\r\n    addToQueue(gesture);\r\n};\r\n\r\ndocument.addEventListener('keyup', onKeyUp);\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard.js"],"sourceRoot":""}
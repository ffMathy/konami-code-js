{"version":3,"sources":["webpack:///webpack/bootstrap 8dab1ebaa8291d082f22","webpack:///./src/shared.js","webpack:///./index.js","webpack:///./src/index.js","webpack:///./src/touch.js","webpack:///./src/keyboard.js"],"names":["mirrorObject","o","Object","keys","forEach","key","Gestures","Up","Down","Left","Right","A","B","None","konamiCodeEvent","CustomEvent","konamiCode","queue","queueEqualsKonamiCode","result","i","length","addToQueue","gesture","shift","push","gestureEvent","detail","code","name","document","dispatchEvent","dragging","endX","endY","startX","startY","viewportWidth","Math","max","documentElement","clientWidth","window","innerWidth","onTouchStart","event","touches","clientX","clientY","onTouchMove","onTouchEnd","xDiff","yDiff","isHorizontal","abs","isLeftHalf","addEventListener","keyGestureMap","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","a","b","onKeyUp","Invalid"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA,IAAMA,eAAe,SAAfA,YAAe,CAACC,CAAD;AAAA,WAAOC,OAAOC,IAAP,CAAYF,CAAZ,EAAeG,OAAf,CAAuB,UAACC,GAAD;AAAA,eAASJ,EAAEA,EAAEI,GAAF,CAAF,IAAYA,GAArB;AAAA,KAAvB,CAAP;AAAA,CAArB;;AAEA,IAAMC,WAAW;AACbC,QAAI,CADS;AAEbC,UAAM,CAFO;AAGbC,UAAM,CAHO;AAIbC,WAAO,CAJM;AAKbC,OAAG,CALU;AAMbC,OAAG,CANU;AAObC,UAAM;AAPO,CAAjB;AASAb,aAAaM,QAAb;;AAEA,IAAMQ,kBAAkB,IAAIC,WAAJ,CAAgB,YAAhB,CAAxB;;AAEA,IAAMC,aAAa,CACfV,SAASC,EADM,EACFD,SAASC,EADP,EACWD,SAASE,IADpB,EAC0BF,SAASE,IADnC,EAEfF,SAASG,IAFM,EAEAH,SAASI,KAFT,EAEgBJ,SAASG,IAFzB,EAE+BH,SAASI,KAFxC,EAGfJ,SAASM,CAHM,EAGHN,SAASK,CAHN,CAAnB;;AAMA,IAAMM,QAAQ,CACVX,SAASO,IADC,EACKP,SAASO,IADd,EACoBP,SAASO,IAD7B,EACmCP,SAASO,IAD5C,EAEVP,SAASO,IAFC,EAEKP,SAASO,IAFd,EAEoBP,SAASO,IAF7B,EAEmCP,SAASO,IAF5C,EAGVP,SAASO,IAHC,EAGKP,SAASO,IAHd,CAAd;;AAMA,IAAMK,wBAAwB,SAAxBA,qBAAwB,GAAM;AAChC,QAAIC,SAAS,IAAb;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIJ,WAAWK,MAA/B,EAAuCD,GAAvC,EAA4C;AACxC,YAAIJ,WAAWI,CAAX,MAAkBH,MAAMG,CAAN,CAAtB,EAAgC;AAC5BD,qBAAS,KAAT;AACA;AACH;AACJ;AACD,WAAOA,MAAP;AACH,CATD;;AAWA,IAAMG,aAAa,SAAbA,UAAa,CAACC,OAAD,EAAa;AAC5BN,UAAMO,KAAN;AACAP,UAAMQ,IAAN,CAAWF,OAAX;;AAEA,QAAMG,eAAe,IAAIX,WAAJ,CAAgB,mBAAhB,EAAqC;AACtDY,gBAAQ;AACJC,kBAAML,OADF;AAEJM,kBAAMvB,SAASiB,OAAT;AAFF;AAD8C,KAArC,CAArB;AAMAO,aAASC,aAAT,CAAuBL,YAAvB;;AAEA,QAAIR,uBAAJ,EAA6B;AACzBY,iBAASC,aAAT,CAAuBjB,eAAvB;AACH;AACJ,CAfD;;QAkBIR,Q,GAAAA,Q;QACAgB,U,GAAAA,U;;;;;;;;;ACzDJ,uB;;;;;;;;;ACAA;;AACA;;AACA,uB;;;;;;;;;ACFA;;AAEA,IAAIU,WAAW,KAAf;AACA,IAAIC,OAAO,IAAX;AACA,IAAIC,OAAO,IAAX;AACA,IAAIC,SAAS,IAAb;AACA,IAAIC,SAAS,IAAb;AACA,IAAMC,gBAAgBC,KAAKC,GAAL,CAAST,SAASU,eAAT,CAAyBC,WAAlC,EAA+CC,OAAOC,UAAP,IAAqB,CAApE,CAAtB;;AAEA,IAAMC,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAW;AAC5Bb,eAAW,KAAX;AACAG,aAASU,MAAMC,OAAN,CAAc,CAAd,EAAiBC,OAA1B;AACAX,aAASS,MAAMC,OAAN,CAAc,CAAd,EAAiBE,OAA1B;AACH,CAJD;;AAMA,IAAMC,cAAc,SAAdA,WAAc,CAACJ,KAAD,EAAW;AAC3B,QAAI,CAACV,MAAD,IAAW,CAACC,MAAhB,EAAwB;AACpB;AACH;AACDJ,eAAW,IAAX;AACAC,WAAOY,MAAMC,OAAN,CAAc,CAAd,EAAiBC,OAAxB;AACAb,WAAOW,MAAMC,OAAN,CAAc,CAAd,EAAiBE,OAAxB;AACH,CAPD;;AASA,IAAME,aAAa,SAAbA,UAAa,CAACL,KAAD,EAAW;AAC1B,QAAIb,QAAJ,EAAc;AACV,YAAMmB,QAAQhB,SAASF,IAAvB;AACA,YAAMmB,QAAQhB,SAASF,IAAvB;AACA,YAAMmB,eAAef,KAAKgB,GAAL,CAASH,KAAT,IAAkBb,KAAKgB,GAAL,CAASF,KAAT,CAAvC;;AAEA,YAAIC,YAAJ,EAAkB;AACd,oCAAWF,QAAQ,CAAR,GAAY,iBAAS1C,IAArB,GAA4B,iBAASC,KAAhD;AACH,SAFD,MAEO;AACH,oCAAW0C,QAAQ,CAAR,GAAY,iBAAS7C,EAArB,GAA0B,iBAASC,IAA9C;AACH;;AAEDwB,mBAAW,KAAX;AACH,KAZD,MAaK;AACD,YAAMuB,aAAapB,SAAUE,gBAAgB,CAA7C;AACA,gCAAWkB,aAAa,iBAAS5C,CAAtB,GAA0B,iBAASC,CAA9C;AACH;;AAEDuB,aAAS,IAAT;AACAC,aAAS,IAAT;AACH,CArBD;;AAuBAN,SAAS0B,gBAAT,CAA0B,YAA1B,EAAwCZ,YAAxC,EAAsD,KAAtD;AACAd,SAAS0B,gBAAT,CAA0B,WAA1B,EAAuCP,WAAvC,EAAoD,KAApD;AACAnB,SAAS0B,gBAAT,CAA0B,UAA1B,EAAsCN,UAAtC,EAAkD,KAAlD,E;;;;;;;;;ACjDA;;AAEA,IAAMO,gBAAgB;AAClBC,eAAW,iBAASjD,IADF;AAElBkD,gBAAY,iBAASjD,KAFH;AAGlBkD,aAAS,iBAASrD,EAHA;AAIlBsD,eAAW,iBAASrD,IAJF;AAKlBsD,OAAG,iBAASnD,CALM;AAMlBoD,OAAG,iBAASnD;AANM,CAAtB;;AASA,IAAMoD,UAAU,SAAVA,OAAU,CAACnB,KAAD,EAAW;AACvB,QAAMtB,UAAUkC,cAAcZ,MAAMxC,GAApB,KAA4B,iBAAS4D,OAArD;AACA,4BAAW1C,OAAX;AACH,CAHD;;AAKAO,SAAS0B,gBAAT,CAA0B,OAA1B,EAAmCQ,OAAnC,E","file":"konami-code.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8dab1ebaa8291d082f22","const mirrorObject = (o) => Object.keys(o).forEach((key) => o[o[key]] = key);\n\nconst Gestures = {\n    Up: 1,\n    Down: 2,\n    Left: 3,\n    Right: 4,\n    A: 5,\n    B: 6,\n    None: null\n};\nmirrorObject(Gestures);\n\nconst konamiCodeEvent = new CustomEvent('konamiCode');\n\nconst konamiCode = [\n    Gestures.Up, Gestures.Up, Gestures.Down, Gestures.Down,\n    Gestures.Left, Gestures.Right, Gestures.Left, Gestures.Right,\n    Gestures.B, Gestures.A\n];\n\nconst queue = [\n    Gestures.None, Gestures.None, Gestures.None, Gestures.None,\n    Gestures.None, Gestures.None, Gestures.None, Gestures.None,\n    Gestures.None, Gestures.None\n];\n\nconst queueEqualsKonamiCode = () => {\n    let result = true;\n    for (let i = 0; i < konamiCode.length; i++) {\n        if (konamiCode[i] !== queue[i]) {\n            result = false;\n            break;\n        }\n    }\n    return result;\n};\n\nconst addToQueue = (gesture) => {\n    queue.shift();\n    queue.push(gesture);\n\n    const gestureEvent = new CustomEvent('konamiCodeGesture', {\n        detail: {\n            code: gesture,\n            name: Gestures[gesture]\n        }\n    });\n    document.dispatchEvent(gestureEvent);\n    \n    if (queueEqualsKonamiCode()) {\n        document.dispatchEvent(konamiCodeEvent);\n    }\n};\n\nexport {\n    Gestures,\n    addToQueue\n};\n\n\n// WEBPACK FOOTER //\n// ./src/shared.js","import './src';\n\n\n// WEBPACK FOOTER //\n// ./index.js","import './shared';\nimport './touch';\nimport './keyboard';\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { addToQueue, Gestures } from './shared';\n\nlet dragging = false;\nlet endX = null;\nlet endY = null;\nlet startX = null;\nlet startY = null;\nconst viewportWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n\nconst onTouchStart = (event) => {\n    dragging = false;\n    startX = event.touches[0].clientX;\n    startY = event.touches[0].clientY;\n};\n\nconst onTouchMove = (event) => {\n    if (!startX || !startY) {\n        return;\n    }\n    dragging = true;\n    endX = event.touches[0].clientX;\n    endY = event.touches[0].clientY;\n};\n\nconst onTouchEnd = (event) => {\n    if (dragging) {\n        const xDiff = startX - endX ;\n        const yDiff = startY - endY;\n        const isHorizontal = Math.abs(xDiff) > Math.abs(yDiff);\n\n        if (isHorizontal) {\n            addToQueue(xDiff > 0 ? Gestures.Left : Gestures.Right);\n        } else {\n            addToQueue(yDiff > 0 ? Gestures.Up : Gestures.Down);\n        }\n\n        dragging = false;\n    }\n    else {\n        const isLeftHalf = startX < (viewportWidth / 2);\n        addToQueue(isLeftHalf ? Gestures.A : Gestures.B);\n    }\n\n    startX = null;\n    startY = null;\n};\n\ndocument.addEventListener('touchstart', onTouchStart, false);\ndocument.addEventListener('touchmove', onTouchMove, false);\ndocument.addEventListener('touchend', onTouchEnd, false);\n\n\n\n// WEBPACK FOOTER //\n// ./src/touch.js","import { addToQueue, Gestures } from './shared';\n\nconst keyGestureMap = {\n    ArrowLeft: Gestures.Left,\n    ArrowRight: Gestures.Right,\n    ArrowUp: Gestures.Up,\n    ArrowDown: Gestures.Down,\n    a: Gestures.A,\n    b: Gestures.B\n};\n\nconst onKeyUp = (event) => {\n    const gesture = keyGestureMap[event.key] || Gestures.Invalid;\n    addToQueue(gesture);\n};\n\ndocument.addEventListener('keyup', onKeyUp);\n\n\n// WEBPACK FOOTER //\n// ./src/keyboard.js"],"sourceRoot":""}